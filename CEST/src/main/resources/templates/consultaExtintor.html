<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- Latest compiled and minified JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="scripts.js"></script>
<script src="consultas.js"></script>

<script>
	function enviar(id){
		location.href='/actualizarExtintor?id='+id;
	}
</script> 

<title>CEST - Extintores</title>
</head>
<body>
	<div class="container theme-showcase" role="main">
		<div class="jumbotron" style="background: rgb(13,67,113)">
			<h1 align="center" style="color: white">Consulta de extintores</h1>
		</div>
		<div class="container">
			<h2>Filtros de búsqueda</h2>
			<div class="row"> 
				<div class="col-md-2"> 
					<label>Identificador</label> <br>
					<input id="id" name="id" type="text" class="form-control" onchange="BuscarExt();">
				</div>
				<div class="col-md-2">
					<label>Sede</label> <br>
					<select id="sede" name="sede" class="form-control" style="width: 100%">
						<option value="">Seleccione</option>
					   	<th:block th:each="sede:${sedes}">
					   		<option th:text="${sede.nombre}"></option>	
						</th:block>				   	
					</select>
				</div>
				<div class="col-md-2">
					<label>Bloque</label> <br>
						<select id="bloque" name="bloque" class="form-control" style="width: 100%">
						
						</select>
				</div>
				<div class="col-md-2">
					<label>Piso</label> <br>
						<select id="piso" name="piso" class="form-control" style="width: 100%">
				
						</select>
				</div>

				<div class="col-md-1">
					<br>
					<button class="btn btn-primary glyphicon glyphicon-search"></button>
				</div>
	 		</div>
		</div>
	 	<br>
	 	
	 	<div class="container">
		<!-- Tabla que muestra la información de la tabla contrato de la base de datos -->
    			<div id="contenido" class="form-group">
    				<table id="Extintores" class="table table-bordered table-striped">
    					<tr>
	    					<td><label>Identificador</label></td>
							<td><label>Tipo</label></td>
							<td><label>Tamaño</label></td>
							<td><label>Fecha ultima recarga</label></td>
							<td><label>Fecha de vencimiento</label></td>
							<td><label>Caducidad (años)</label></td>
							<td><label>Estado</label></td>
							<td><label>Acciones</label></td>
						</tr>
    					<th:block th:each="extintor:${extintores}">
						      <tr id="infoExt">
						         <td id="idelemento" th:text="${extintor.elemento.id}"><label>Identificador</label></td>
						         <td th:text="${extintor.fichatecnica.tipo}"><label>Tipo</label></td>
						         <td th:text="${extintor.tamanio}"><label>Tamaño</label></td>
						         <td th:text="${extintor.fechaultimarecarga}"><label>Fecha de recarga</label></td>
						         <td th:text="${extintor.fechavencimiento}"><label>Fecha de vencimiento</label></td>
						         <td th:text="${extintor.caducidadanios}"><label>Caducidad (años)</label></td>
						         <td th:text="${extintor.estado}"><label>Estado</label></td>		        
						         <td >
						         	<button th:id="${extintor.elemento.id}" class="glyphicon glyphicon-pencil btn btn-primary" onclick="enviar(this.id);"></button>
									<button class="glyphicon glyphicon-trash btn btn-danger"></button>
								</td>
						      </tr>
						</th:block>
			        </table>
    			</div>
    			
    			<div class="col-md-5"></div>
	    		<div class="col-md-2">
	    			<button class="btn btn-lg btn-primary" onclick="location.href='/registrarExtintor'">Registrar</button>
	    		</div>
	    		<div class="col-md-5"></div>
	</div>
		
	</div>
	
</body>
</html>